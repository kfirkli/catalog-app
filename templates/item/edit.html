{% extends 'base.html' %}
{% block title %}Categories{% endblock %}

{% block content %}
  <div class="pane">
    <h2>Edit Item</h2>
    {% if item %}
      <form action="{{ url_for('edit_item', item_title=item.title_url()) }}" method="post">
        <label for="category">Category</label>
        <select name="category_id" id="category" required>
          {% for category in categories %}
            <option value="{{ category.id }}">{{ category.name }}</option>
          {% endfor %}
        </select>
        <br><br>


        <label for="title">Title</label>
        <input type="text" name="title" id="title" placeholder="{{ item.title }}" value="{{ item.title }}" required>
        <br><br>

        <label for="description">Description</label>
        <textarea name="description" id="description" rows="5" cols="50"
                  placeholder="{{ item.description }}" required>{{ item.description }}</textarea>
        <br><br>

        <input type="submit" value="Update">
        <input class="button" type="button" onclick="window.location.replace('{{ url_for('show_catalog') }}')" value="Cancel"/>
      </form>
      <script>
        document.getElementById("category").value = "{{ item.category_id }}";
      </script>
    {% else %}
      <p>There is no such Item</p>
    {% endif %}
  </div>
{% endblock %}
