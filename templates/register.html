{% extends 'base.html' %}
{% set no_login_links=True %}

{% block title %}Register{% endblock %}

{% block content %}
  <div>
    <h2>Register</h2>
    <form action="{{ url_for('register') }}" method="post">
      <label for="email">Email</label>
      <input type="email" name="email" id="email" placeholder="example@domain.com">
      <br><br>

      <label for="first_name">First name</label>
      <input type="text" name="first_name" id="first_name" placeholder="First name">
      <br>
      <label for="last_name">Last name</label>
      <input type="text" name="last_name" id="last_name" placeholder="Last name">
      <br><br>

      <label for="password">Password</label>
      <input type="password" name="password" id="password">
      <br>
      <label for="password_confirm">Confirm Password</label>
      <input type="password" name="password_confirm" id="password_confirm">
      <br><br>

      <input type="submit" value="Register" onclick="return validate()">
      <input class="button" type="button"
             onclick="window.location.replace('{{ url_for('show_catalog') }}')" value="Cancel"/>
    </form>
  </div>

  <script>
    function validate() {
      var password = document.getElementById("password").value;
      var passwordConfirm = document.getElementById("password_confirm").value;

      if (!password || !passwordConfirm) {
        alert("The password fields must not be empty");
        return false;
      }

      if (password !== passwordConfirm) {
        alert("The passwords you entered do not match");
        return false;
      }

      return true;
    }
  </script>
{% endblock %}